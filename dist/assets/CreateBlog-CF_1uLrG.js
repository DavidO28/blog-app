import{d as g,r as s,c as d,a as t,b as i,w as v,v as p,t as x,e as w,f as y,F as V,u as B,o as m,s as C,_ as N}from"./index-BII6xS9m.js";const c={key:0},k=g({__name:"CreateBlog",setup(A){const b=B(),o=s(""),a=s(""),u=s(""),l=s(null),f=async()=>{if(!o.value||!a.value||!u.value){l.value="Please fill out all the required fields to publish the blog";return}try{const{error:n}=await C.from("blogs").insert({title:o.value,content:a.value,author:u.value});n?l.value="An error occurred while saving the blog.":(o.value="",a.value="",u.value="",l.value=null),b.push("/")}catch(n){throw l.value="An unexpected error occurred.",n}};return(n,e)=>(m(),d(V,null,[e[7]||(e[7]=t("h1",null,"New blog",-1)),t("form",{onSubmit:y(f,["prevent"])},[t("label",null,[e[3]||(e[3]=i(" Title ")),v(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r)},null,512),[[p,o.value]])]),t("label",null,[e[4]||(e[4]=i(" Content ")),v(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r)},null,512),[[p,a.value]])]),t("label",null,[e[5]||(e[5]=i(" Author ")),v(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>u.value=r)},null,512),[[p,u.value]])]),e[6]||(e[6]=t("button",{type:"submit"},"Save blog",-1)),l.value?(m(),d("p",c,x(l.value),1)):w("",!0)],32)],64))}}),M=N(k,[["__scopeId","data-v-9ac7ffb7"]]);export{M as default};
